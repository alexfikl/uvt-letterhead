% SPDX-FileCopyrightText: 2022-2025 Alexandru Fikl <alexfikl@gmail.com>
% SPDX-License-Identifier: CC-BY-4.0

% This package reproduces the UVT (West University of Timișoara) letterhead
% available in MS Word format here
%
%   https://docs.google.com/document/d/1qyRK3fjVANnRFPRCYI8VLL42Ay-z07ZM/edit
%
% Usage:
%   \usepackage[department=<dept>]{uvt-letterhead}
%
% References:
%   Colors and Logos: https://dci.uvt.ro/identitate-vizuala
%                     https://www.uvt.ro/dcimi/identitate-vizuala/
%
% Acknowledgement:
%   The skeleton of this style file was copied from
%   https://github.com/lukeolson/illinois-letterhead
%   though little of it remains.

% <<< preamble

\def\fileversion{v0.5}
\def\filedate{2025/09/20}

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{uvt-letterhead}[\filedate \fileversion UVT Letterhead]

% >>>

% <<< options

\RequirePackage{iftex}
\RequirePackage{kvoptions}
\SetupKeyvalOptions{
    family=uvt,
    prefix=uvt@
}

% doublespacing: use double instead of single spacing
\DeclareBoolOption[false]{doublespacing}
% nomyriadpro: disable even trying to load Myriad Pro
\DeclareBoolOption[false]{nomyriadpro}
% headerlogo: set logo in header instead of in footer
\DeclareBoolOption[false]{headerlogo}
% department: name of the department
\DeclareStringOption[uvt]{department}

% layoutgrid: show a grid in cm
\DeclareBoolOption[false]{layoutgrid}
% showframe: enable showing a frame around page elements
\DeclareBoolOption[false]{showframe}

% handle default options
\DeclareDefaultOption{\PackageWarning{uvt-letterhead}{Unknown option `\CurrentOption`}}
\ProcessKeyvalOptions*

% >>>

% <<< packages

% load a nice font package
\ifpdftex
    \RequirePackage[utf8]{inputenc}
    \RequirePackage[T1]{fontenc}
\else
    \RequirePackage{fontspec}
\fi

% generic formatting
\RequirePackage[rgb, table]{xcolor}
\RequirePackage{graphicx}
\RequirePackage{tikz}
% handle string keyval options
\RequirePackage{ifthen}
% department definitions
\RequirePackage{xkeyval}

% used to set doublesplacing
\RequirePackage{setspace}
% translations
\RequirePackage{translations}

% nicer links
\RequirePackage{hyperref}

% nicer command definitions
\RequirePackage{xparse}
% indent first paragraph in a section
\RequirePackage{indentfirst}
% use microtype to improve spacing
\RequirePackage{microtype}
% fancy header and footer definition
\RequirePackage{fancyhdr}
\RequirePackage[absolute]{textpos}

\ifuvt@nomyriadpro
    \RequirePackage{helvet}
\else
    \ifpdftex
        \IfFileExists{MyriadPro.sty}{
            \RequirePackage[onlytext, smallfamily, lf]{MyriadPro}
        }{
            \PackageWarning{uvt-letterhead}{Myriad Pro font is not available to pdfLaTeX. Use the nomyriadpro option to silence this warning.}
            \RequirePackage{helvet}}
    \else
        \IfFontExistsTF{MyriadPro}{
            \setsansfont[Ligatures=TeX]{MyriadPro}
        }{
            \PackageWarning{uvt-letterhead}{Myriad Pro font is not available. Use the nomyriadpro option to silence this warning.}
            \RequirePackage{helvet}}
    \fi
\fi
\renewcommand{\familydefault}{\sfdefault}

% enable this to better check sizing
\ifuvt@showframe
    \RequirePackage{geometry}
    \geometry{showframe}
\fi

\ifuvt@layoutgrid
    \RequirePackage[
        grid, gridBG,
        gridunit=cm,
        gridcolor=gray!70,
        subgridcolor=gray!70,
        texcoord]{eso-pic}
\fi

% NOTE: if using the main logo, there should be no footer logo
\ifthenelse{\equal{\uvt@department}{uvt}}{\uvt@headerlogotrue}{}

% >>>

% <<< colors

% NOTE: https://dci.uvt.ro/identitate-vizuala
\definecolor{UVTLightBlue}{RGB}{52, 113, 183}
\definecolor{UVTDarkBlue}{RGB}{3, 75, 119}
\definecolor{UVTYellow}{RGB}{228, 172, 36}

% NOTE: taken from the document itself
\definecolor{UVTHeaderBlue}{RGB}{8, 67, 113}
\definecolor{UVTHeaderLightBlue}{RGB}{84, 141, 212}
\definecolor{UVTHeaderGray}{RGB}{90, 90, 90}
\definecolor{UVTFooterGray}{RGB}{166, 166, 166}

% >>>

% <<< metadata

% customize pdf metadata
\RequirePackage{bookmark}
\hypersetup{
    % metadata
    pdftitle={UVT Letter},
    pdfauthor={},
    pdfsubject={},
    pdfkeywords={UVT, letterhead},
    % bookmarks
    bookmarksnumbered,
    % links
    colorlinks=true,
    urlcolor=UVTDarkBlue,
    linkcolor=UVTDarkBlue,
    pdfborder={0 0 0},
}

% >>>

% <<< commands

% top
\NewDocumentCommand \toaddress      { m } {\def\@toaddress{#1}}
\NewDocumentCommand \fromdate       { m } {\def\@fromdate{#1}}

% closing
\NewDocumentCommand \closing        { m } {\def\@closing{#1}}
\NewDocumentCommand \fromsignature  { m } {\def\@fromsignature{#1}}
\NewDocumentCommand \fromname       { m } {\def\@fromname{#1}}
\NewDocumentCommand \fromemail      { m } {\def\@fromemail{#1}}
\NewDocumentCommand \fromweb        { m } {\def\@fromweb{#1}}
\NewDocumentCommand \fromoffice     { m } {\def\@fromoffice{#1}}

% department
% NOTE: this hackery for uppercasing is required to make the translation work
% https://tex.stackexchange.com/a/84670
\NewDocumentCommand \fromuniversity { m } {
    \def\@fromuniversity{\GetTranslation{#1}}
    \def\@fromuniversityupper{\MakeUppercase{\GetTranslation{#1}}}}
\NewDocumentCommand \fromdept       { m } {
    \def\@fromdept{\GetTranslation{#1}}
    \def\@fromdeptupper{\MakeUppercase{\GetTranslation{#1}}}}

\NewDocumentCommand \fromuniversitylogo {m} {\def\@fromuniversitylogo{#1}}
\NewDocumentCommand \fromdeptaddress{ m } {\def\@fromdeptaddress{#1}}
\NewDocumentCommand \fromdeptphone  { m } {\def\@fromdeptphone{#1}}
\NewDocumentCommand \fromdeptemail  { m } {\def\@fromdeptemail{#1}}
\NewDocumentCommand \fromdeptweb    { m } {\def\@fromdeptweb{#1}}
\NewDocumentCommand \fromdeptlogo   { m } {\def\@fromdeptlogo{#1}}

% hacks
\NewDocumentCommand \uvtheaderlogooffset { m } {\def\@uvtheaderlogooffset{#1}}

% >>>

% <<< translations

\DeclareTranslationFallback{West University of Timișoara}{West University of Timișoara}
\DeclareTranslation{Romanian}{West University of Timișoara}{Universitatea de Vest din Timișoara}

\DeclareTranslationFallback{Ministry of Education}{Ministry of Education}
\DeclareTranslation{Romanian}{Ministry of Education}{Ministerul Educației}

\DeclareTranslationFallback{Faculty of Arts and Design}{Faculty of Arts and Design}
\DeclareTranslation{Romanian}{Faculty of Arts and Design}{Facultatea de Arte și Design}

\DeclareTranslationFallback{Faculty of Chemistry, Biology, and Geography}{Faculty of Chemistry, Biology, and Geography}
\DeclareTranslation{Romanian}{Faculty of Chemistry, Biology, and Geography}{Facultatea de Chimie, Biologie, Geografie}

\DeclareTranslationFallback{Faculty of Law}{Faculty of Law}
\DeclareTranslation{Romanian}{Faculty of Law}{Facultatea de Drept}

\DeclareTranslationFallback{Faculty of Economics and Business Administration}{Faculty of Economics and Business Administration}
\DeclareTranslation{Romanian}{Faculty of Economics and Business Administration}{Facultatea de Economie și de Administrare a Afacerilor}

\DeclareTranslationFallback{Faculty of Physical Education and Sports}{Faculty of Physical Education and Sports}
\DeclareTranslation{Romanian}{Faculty of Physical Education and Sports}{Facultatea de Educație Fizică și Sport}

\DeclareTranslationFallback{Faculty of Physics and Mathematics}{Faculty of Physics and Mathematics}
\DeclareTranslation{Romanian}{Faculty of Physics and Mathematics}{Facultatea de Fizică și Matematică}

\DeclareTranslationFallback{Faculty of Computer Science}{Faculty of Computer Science}
\DeclareTranslation{Romanian}{Faculty of Computer Science}{Facultatea de Informatică}

\DeclareTranslationFallback{Faculty of Music and Theater}{Faculty of Music and Theater}
\DeclareTranslation{Romanian}{Faculty of Music and Theater}{Facultatea de Muzică și Teatru}

\DeclareTranslationFallback{Faculty of Psychology and Educational Sciences}{Faculty of Psychology and Educational Sciences}
\DeclareTranslation{Romanian}{Faculty of Psychology and Educational Sciences}{Facultatea de Psihologie și Științe ale Educației}

\DeclareTranslationFallback{Faculty of Sociology and Social Work}{Faculty of Sociology and Social Work}
\DeclareTranslation{Romanian}{Faculty of Sociology and Social Work}{Facultatea de Sociologie și Asistență Socială}

\DeclareTranslationFallback{Faculty of Literature, History, Philosophy, and Theology}{Faculty of Literature, History, Philosophy, and Theology}
\DeclareTranslation{Romanian}{Faculty of Literature, History, Philosophy, and Theology}{Facultatea de Litere, Istorie, Filosofie și Teologie}

\DeclareTranslationFallback{Faculty of Political Science and Communication}{Faculty of Political Sciences and Communication}
\DeclareTranslation{Romanian}{Faculty of Political Sciences and Communication}{Facultatea de Științe Ale Guvernării și Comunicării}

\DeclareTranslationFallback{ICAM -- Institute for Advanced Environmental Research}{ICAM -- Institute for Advanced Environmental Research}
\DeclareTranslation{Romanian}{ICAM -- Institute for Advanced Environmental Research}{ICAM -- Institutul de Cercetări Avansate de Mediu}

\DeclareTranslationFallback{University Doctoral Studies Council}{University Doctoral Studies Council}
\DeclareTranslation{Romanian}{University Doctoral Studies Council}{Consiliului Studiilor Universitare de Doctorat}

\DeclareTranslationFallback{Phone}{Telefon}
\DeclareTranslation{Romanian}{Phone}{Telefon}

\DeclareTranslationFallback{Email}{Email}
\DeclareTranslation{Romanian}{Email}{E-mail}

\DeclareTranslationFallback{Website}{Website}
\DeclareTranslation{Romanian}{Website}{Website}

\DeclareTranslationFallback{Date}{Date}
\DeclareTranslation{Romanian}{Date}{Data}

\DeclareTranslationFallback{Name (First, Last)}{Name (First, Last)}
\DeclareTranslation{Romanian}{Name (First, Last)}{Nume (Prenume, nume)}

\DeclareTranslationFallback{Signature}{Signature}
\DeclareTranslation{Romanian}{Signature}{Semnătura}

% >>>

% <<< supported departments

\uvtheaderlogooffset{0.25cm}
\fromuniversitylogo{assets/uvt-logo.png}

\define@key{uvtdept}{arte}[true]{%
    \fromdept{Faculty of Arts and Design}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-arte.png}
    \fromdeptaddress{str. Oituz 4, 300086, Timișoara, România}
    \fromdeptphone{+40 256-592-900}
    \fromdeptemail{info@e-uvt.ro}
    \fromdeptweb{https://arte.uvt.ro}
}

\define@key{uvtdept}{cbg}[true]{%
    \fromdept{Faculty of Chemistry, Biology, and Geography}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-cbg.png}
    \fromdeptaddress{str. Pestalozzi 16A, 300115, Timișoara, România}
    \fromdeptphone{+40 256-592-622}
    \fromdeptemail{secretariat.cbg@e-uvt.ro}
    \fromdeptweb{https://cbg.uvt.ro}
}

\define@key{uvtdept}{drept}[true]{%
    \fromdept{Faculty of Law}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-drept.png}
    \fromdeptaddress{Blvd. Eroilor de la Tisa 9A, 300575, Timișoara, România}
    \fromdeptphone{+40 256-592-400}
    \fromdeptemail{drept@e-uvt.ro}
    \fromdeptweb{https://drept.uvt.ro}
}

\define@key{uvtdept}{feaa}[true]{%
    \fromdept{Faculty of Economics and Business Administration}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-feaa.png}
    \fromdeptaddress{str. Pestalozzi 16, 300115, Timișoara, România}
    \fromdeptphone{+40 256-592-506}
    \fromdeptemail{secretariat.feaa@e-uvt.ro}
    \fromdeptweb{https://feaa.uvt.ro}
}

\define@key{uvtdept}{fefs}[true]{%
    \fromdept{Faculty of Physical Education and Sports}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-fefs.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-129}
    \fromdeptemail{secretariat.sport@e-uvt.ro}
    \fromdeptweb{https://sport.uvt.ro}
}

\define@key{uvtdept}{ffm}[true]{%
    \fromdept{Faculty of Physics and Mathematics}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-ffm.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-298}
    \fromdeptemail{secretariat.fizica@e-uvt.ro}
    \fromdeptweb{https://physics.uvt.ro}
}

\define@key{uvtdept}{info}[true]{%
    \fromdept{Faculty of Computer Science}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-info.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-155}
    \fromdeptemail{secretariat.mateinfo@e-uvt.ro}
    \fromdeptweb{https://info.uvt.ro}
}

\define@key{uvtdept}{fmt}[true]{%
    \fromdept{Faculty of Music and Theater}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-fmt.png}
    \fromdeptaddress{Blvd. Piața Libertății 1, 300077, Timișoara, România}
    \fromdeptphone{+40 256-592-650}
    \fromdeptemail{muzicateatru.secretariat@e-uvt.ro}
    \fromdeptweb{https://fmt.uvt.ro}
}

\define@key{uvtdept}{fsas}[true]{%
    \fromdept{Faculty of Sociology and Social Work}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-fsas.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-320}
    \fromdeptemail{secretariat.sociopsiho@e-uvt.ro}
    \fromdeptweb{https://fsp.uvt.ro}
}

\define@key{uvtdept}{fpse}[true]{%
    \fromdept{Faculty of Psychology and Educational Sciences}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-fpse.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-320}
    \fromdeptemail{secretariat.sociopsiho@e-uvt.ro}
    \fromdeptweb{https://fsp.uvt.ro}
}

\define@key{uvtdept}{lift}[true]{%
    \fromdept{Faculty of Literature, History, Philosophy, and Theology}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-lift.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-164}
    \fromdeptemail{secretariat.litere@e-uvt.ro}
    \fromdeptweb{https://lift.uvt.ro}
}

\define@key{uvtdept}{fsgc}[true]{%
    \fromdept{Faculty of Political Sciences and Communication}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-fsgc.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-132}
    \fromdeptemail{secretariat.fsgc@e-uvt.ro}
    \fromdeptweb{https://fsgc.uvt.ro}
}

\define@key{uvtdept}{icam}[true]{%
    \fromdept{ICAM -- Institute for Advanced Environmental Research}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-icam.png}
    \fromdeptaddress{Str. Oituz nr 4, 300086, Timișoara, România}
    \fromdeptphone{+40 256-592-309}
    \fromdeptemail{icam@e-uvt.ro}
    \fromdeptweb{https://icam.uvt.ro/}
    \uvtheaderlogooffset{0.2cm}
}

\define@key{uvtdept}{csud}[true]{%
    \fromdept{University Doctoral Studies Council}
    \fromuniversity{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-csud.png}
    \fromdeptaddress{str. Paris, nr. 1, P12, 300003, Timișoara, România}
    \fromdeptphone{+40 256-592-315}
    \fromdeptemail{doctorat@e-uvt.ro}
    \fromdeptweb{https://www.uvt.ro/cercetare/doctorat/csud}
}

\define@key{uvtdept}{uvt80}[true]{%
    \fromuniversity{Ministry of Education}
    \fromdept{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo-80.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-111}
    \fromdeptemail{secretariat.uvt@e-uvt.ro}
    \fromdeptweb{https://uvt.ro}
    \uvtheaderlogooffset{0cm}
}

\define@key{uvtdept}{uvt}[true]{%
    \fromuniversity{Ministry of Education}
    \fromdept{West University of Timișoara}
    \fromdeptlogo{assets/uvt-logo.png}
    \fromdeptaddress{Blvd. Vasile Pârvan 4, 300223, Timișoara, România}
    \fromdeptphone{+40 256-592-111}
    \fromdeptemail{secretariat.uvt@e-uvt.ro}
    \fromdeptweb{https://uvt.ro}
    \uvtheaderlogooffset{0cm}
}

\define@key{uvtdept}{unknown}[true]{%
    \PackageError{uvt-letterhead}{Unknown department `\uvt@department`}{}
}

\setkeys{uvtdept}{\uvt@department}

% >>>

% <<< header / footer

\pagestyle{fancy}

% NOTE: add a bit of padding so that the text does not hit the logo
\setlength{\headheight}{28pt}
\addtolength{\headsep}{6pt}

\renewcommand{\headrule}{
\begin{tikzpicture}[remember picture, overlay]
\node [
    rectangle,
    left color=white,
    right color=UVTLightBlue,
    anchor=north east,
    minimum width=0.75\paperwidth,
    outer sep=0,
    inner sep=0,
    yshift=-0.1\paperheight,
    minimum height=0.15cm] (box) at (current page.north east) {};
\end{tikzpicture}
}

\fancyfoot{}
\fancyfoot[C]{%
    \tiny
    \sffamily
    \setstretch{1.15}
    \ifuvt@headerlogo\else
        \begin{textblock*}{\paperwidth}(0cm, \dimexpr\paperheight-\footskip-2.5cm)
        \includegraphics[width=0.1\paperwidth]{\@fromdeptlogo}
        \end{textblock*}
    \fi
    \begin{textblock*}{\paperwidth}(0cm, \dimexpr\paperheight-\footskip-0.25cm)
        \textcolor{UVTFooterGray}{
            \@fromdeptaddress \\
            \textit{\GetTranslation{Phone}}: \@fromdeptphone \\
            \textit{\GetTranslation{Email}}: \href{mailto:\@fromdeptemail}{\textcolor{UVTFooterGray}{\@fromdeptemail}} \\
            \href{\@fromdeptweb}{\textcolor{UVTFooterGray}{\@fromdeptweb}}
        }
    \end{textblock*}
}

\fancyhead{}
\fancyhead[L]{%
    \begin{textblock*}{\paperwidth}(0cm, 0cm)
    \ifuvt@headerlogo
        \vspace{\@uvtheaderlogooffset}
        \includegraphics[width=0.2\paperwidth]{\@fromdeptlogo}
    \else
        \includegraphics[width=0.2\paperwidth]{\@fromuniversitylogo}
    \fi
    \end{textblock*}
}
\fancyhead[R]{%
    \begin{textblock*}{\paperwidth}(-1cm, 0.06\paperheight)
    \ifthenelse{\equal{\uvt@department}{uvt}}{
        {\footnotesize\sffamily\textcolor{UVTHeaderLightBlue}{\@fromuniversityupper}} \\
        {\small\sffamily\textcolor{UVTHeaderGray}{\@fromdeptupper}}%
    }{
    \ifthenelse{\equal{\uvt@department}{uvt80}}{
        {\footnotesize\sffamily\textcolor{UVTHeaderLightBlue}{\@fromuniversityupper}} \\
        {\small\sffamily\textcolor{UVTHeaderGray}{\@fromdeptupper}}%
    }{
        {\footnotesize\sffamily\textcolor{UVTHeaderGray}{\@fromuniversityupper}} \\
        {\small\sffamily\textcolor{UVTHeaderBlue}{\@fromdeptupper}}%
    }} \\
    \@ifundefined{@fromoffice}{}{
        \vspace{0.9cm}
        \sffamily
        \textcolor{UVTYellow}{\MakeUppercase{\@fromoffice}}
    }
    \end{textblock*}
}

% >>>

% <<< opening

\NewDocumentCommand \uvtopenletter {} {
    \@ifundefined{@fromname}{}{
        \noindent \@fromname \\
    }
    \@ifundefined{@fromemail}{}{
        \noindent \textit{\GetTranslation{Email}}: \href{mailto:\@fromemail}{\@fromemail} \\
    }
    \@ifundefined{@fromweb}{}{
        \noindent \textit{\GetTranslation{Website}}: \href{\@fromweb}{\@fromweb} \\
    }
    \textit{\@fromuniversity} \\
    \textit{\@fromdept} \\
    \@ifundefined{@fromoffice}{}{
        \textit{\@fromoffice}
    }
}

% >>>

% <<< closing

\NewDocumentCommand \uvtdate {} {\the\day.\the\month.\the\year}

\NewDocumentCommand \uvtcloseletter {} {
    \@ifundefined{@closing}{}{
        \noindent \@closing,
        \medskip
    }

    \@ifundefined{@fromsignature}{}{
        \medskip
        \noindent \@fromsignature
        \medskip
    }

    \@ifundefined{@fromname}{}{
        \noindent \@fromname \\
    }
    \@ifundefined{@fromemail}{}{
        \noindent \textit{\GetTranslation{Email}}: \href{mailto:\@fromemail}{\@fromemail} \\
    }
    \@ifundefined{@fromweb}{}{
        \noindent \textit{\GetTranslation{Website}}: \href{\@fromweb}{\@fromweb}
    }
}

\NewDocumentCommand \uvtcloseform {} {
    \noindent \begin{tabular}[t]{@{}l@{}}
    \GetTranslation{Date}: \\
    \textbf{\uvtdate}
    \end{tabular}%
    \hfill%
    \begin{tabular}[t]{@{}ll@{}}
        \GetTranslation{Name (First, Last)}: & \textbf{\@fromname} \\
        \GetTranslation{Signature}: &
        \@ifundefined{@fromsignature}{}{
        \raisebox{\dimexpr10pt-\totalheight\relax}{
        \@fromsignature
        }}
    \end{tabular}
}

% >>>

% <<< spacing

\ifuvt@doublespacing
    \doublespacing
\else
    \onehalfspacing
\fi

% >>>

\endinput

%% vim: nospell:filetype=tex
